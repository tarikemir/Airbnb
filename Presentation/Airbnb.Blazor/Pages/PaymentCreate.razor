<!-- PaymentCreate.razor -->
@page "/payments/create"
@using Airbnb.Blazor.Interfaces;
@using Airbnb.Domain.Entities
@inject IPaymentApiService PaymentApiService
@inject NavigationManager NavigationManager

<h3>Create Payment</h3>

<form>
    <div class="form-group">
        <label for="reservation_id">Reservation ID:</label>
        <input type="text" class="form-control" id="reservation_id" @bind="newPayment.reservation_id" />
    </div>
    <div class="form-group">
        <label for="status">Status:</label>
        <input type="checkbox" id="status" @bind="newPayment.status" />
    </div>
    <div class="form-group">
        <label for="credit_card_number">Credit Card Number:</label>
        <input type="text" class="form-control" id="credit_card_number" @bind="newPayment.credit_card_number" />
    </div>
    <div class="form-group">
        <label for="credit_card_CCV">Credit Card CCV:</label>
        <input type="text" class="form-control" id="credit_card_CCV" @bind="newPayment.credit_card_CCV" />
    </div>
    <div class="form-group">
        <label for="card_expiration_date">Card Expiration Date:</label>
        <input type="date" class="form-control" id="card_expiration_date" @bind="newPayment.card_expiration_date" />
    </div>
    <div class="form-group">
        <label for="name">Name:</label>
        <input type="text" class="form-control" id="name" @bind="newPayment.name" />
    </div>
    <div class="form-group">
        <label for="surname">Surname:</label>
        <input type="text" class="form-control" id="surname" @bind="newPayment.surname" />
    </div>
    <div class="form-group">
        <label for="billing_address">Billing Address:</label>
        <input type="text" class="form-control" id="billing_address" @bind="newPayment.billing_address" />
    </div>

    <button type="button" class="btn btn-primary" @onclick="CreatePayment">Create</button>
</form>

@code {
    private Payment newPayment = new Payment();

    private async Task CreatePayment()
    {
        await PaymentApiService.CreatePayment(newPayment);
        NavigationManager.NavigateTo("/payments"); // Navigate back to the payment list page after creating
    }
}
